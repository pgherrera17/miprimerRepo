<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8"> <!-- Define la codificación de caracteres como UTF-8 para soportar caracteres especiales -->
    <title>Formulario de inscripción para la Graduación - Universidad de Vigo</title> <!-- Título que aparecerá en la pestaña del navegador -->
    <link rel="stylesheet" href="inscripcion.css"> <!-- Enlace al archivo CSS de estilos de la página -->
</head>
<body>

<div class="container"> <!-- Contenedor para el formulario de inscripción -->
<form action="#" method="post"> <!-- Formulario que se enviará a 'formulario_graduacion.html' usando el método POST -->
    <div class="datos">
        <div class="formulario"> <!-- Contenedor para el encabezado de la página -->
            <h1>Formulario de inscripción para la Graduación</h1> <!-- Título principal de la página -->
        
    
        <section class="sesion" style="display: none;"> <!-- Sección de sesión oculta en la vista del navegador -->
            <label for="login">Usuario:</label> <!-- Etiqueta para el campo de usuario -->
            <input type="text" id="login" name="alumnograduacion_login" placeholder="usuarioAlumno" pattern="[A-Za-z]{4,15}" required> <!-- Campo de entrada para el nombre de usuario, con un patrón que permite solo letras y un rango de longitud -->

            <label for="password">Contraseña:</label> <!-- Etiqueta para el campo de contraseña -->
            <input type="password" id="password" name="alumnograduacion_password" placeholder="contraseñaAlumno" pattern="[A-Za-z\s]{8,100}" required> <!-- Campo de entrada para la contraseña, con un placeholder que indica el formato esperado y un patrón para la longitud -->
        </section>

        </div>
        
        <section class="sec_datos-personales">
        
            <div class="datos_personales">
            <h2>Datos Personales</h2>
           <label for="nombre">Nombre (2-25 caracteres):</label>
            <input type="text" id="nombre" name="alumnograduacion_nombre" pattern="[A-Za-zñÑáéíóúÁÉÍÓÚ\s]{2,25}" required> <!-- Campo para el nombre -->
            
            <label for="apellidos">Apellidos (2-35 caracteres):</label>
            <input type="text" id="apellidos" name="alumnograduacion_apellidos" pattern="[A-Za-zñÑáéíóúÁÉÍÓÚ\s]{2,35}" required> <!-- Campo para los apellidos -->
            
            <label for="titulacion">Titulación:</label>
            <select id="titulacion" name="alumnograduacion_titulacion" required> <!-- Selección de titulación -->
                <option value="GREI">GREI</option>
                <option value="GRIA">GRIA</option>
                <option value="PCEOADEEI">PCEO ADE+EI</option>
                <option value="PCEOGRIAEI">PCEO GRIAEI</option>
                <option value="MEI">MEI</option>
                <option value="MIA">MIA</option> 
            </select>
            
            <label for="dni">DNI/NIE:</label>
            <input type="text" id="dni" name="alumnograduacion_dni" required> <!-- Campo para DNI/NIE -->
            
            <label for="telefono">Teléfono (9 dígitos):</label>
            <input type="tel" id="telefono" name="alumnograduacion_telefono" pattern="[0-9]{9}" required> <!-- Campo para teléfono -->
            
            <label for="direccion">Dirección:</label>
            <input type="text" id="direccion" name="alumnograduacion_direccion" required> <!-- Campo para dirección -->
            
            <label for="email">Email:</label>
            <input type="email" id="email" name="alumnograduacion_email" required> <!-- Campo para email -->
            </div>  

        </section>

                <!-- Sección de Recepción y Acto -->
        <section class="sec_recepcion-acto">
            <div class="recepcion-acto">
            <h2>Recepción y Acto</h2>
            <label for="fecha">Fecha de Graduación:</label>
            <input type="date" id="fecha" name="fecha" required> <!-- Campo para la fecha -->
            
            <label for="hora">Hora del Acto:</label>
            <input type="time" id="hora" name="hora" required> <!-- Campo para la hora -->
            </div>
        </section>

                <!-- Sección de Preferencias culinarias -->
                <section class="sec_preferencias_culinarias">
                    <div class="preferencias_culinarias">
                    <h2>Preferencias culinarias</h2>
                    
                    <label>¿Tiene alergias alimentarias?</label><br>
                    <label for="alergias_si">Sí
                    <input type="radio" id="alergias_si" name="alergias" value="si" onclick="toggleAlergias(true)" required>
                    </label>
                    <label for="alergias_no">No
                    <input type="radio" id="alergias_no" name="alergias" value="no" onclick="toggleAlergias(false)" required>
                    </label>
                    
                    <div id="alergias_seleccion" style="display: none;"> <!-- Cuadro de selección múltiple oculto por defecto -->
                        <label for="alergias_tipos">Seleccione sus alergias alimentarias:</label>
                        <select id="alergias_tipos" name="alergias_tipos[]" multiple> <!-- Selección múltiple -->
                            <option value="gluten">Gluten</option>
                            <option value="lactosa">Lactosa</option>
                            <option value="frutos_secos">Frutos Secos</option>
                            <option value="mariscos">Mariscos</option>
                            <option value="huevos">Huevos</option>
                            <option value="soja">Soja</option>
                            <option value="pescado">Pescado</option>
                        </select>
                    </div>
                </div>
                </section>

                       <!-- Sección de Fiesta -->
        <section class="sec_gala">
            <div class="gala">
            <h2>Fiesta</h2>
            <label for="asistentes">Número de Asistentes:</label>
            <input type="number" id="asistentes" name="asistentes" min="1" max="100" required> <!-- Campo para el número de asistentes -->
            
            <label for="comentarios">Comentarios Adicionales:</label>
            <textarea id="comentarios" name="comentarios" rows="4"></textarea> <!-- Campo para comentarios -->
            </div>
        </section>

        <!-- Sección de Foto de la Orla -->
        <section class="sec_orla">
            <div class="orla">
            <h2>Foto del Acto</h2>
            <label for="fotoacto">Foto del acto (jpg, 7-100 caracteres):</label>
            <input type="file" id="fotoacto" name="alumnograduacion_fotoacto" accept=".jpg" required> <!-- Campo para cargar la foto -->
            </div>
        </section>


        <section class="buttons">
                    <!-- Botón de Envío -->
        <button type="submit">Enviar</button> <!-- Botón para enviar el formulario -->

        </section>

    </div>

    </form>
</div>

<script>
    // Añade un evento al campo de usuario para modificar su valor al escribir
    document.getElementById('login').addEventListener('input', function() {
        const input = this.value; // Obtiene el valor actual del campo de usuario
        // Si el valor no incluye la extensión, se añade automáticamente
        if (!input.includes('@alumno.uvigo.es')) {
            this.value = input + '@alumno.uvigo.es'; // Añade la extensión al final del texto ingresado
        }
    });
</script>

<script>
    function toggleAlergias(tieneAlergias) {
        const alergiasSeleccion = document.getElementById('alergias_seleccion');
        if (tieneAlergias) {
            alergiasSeleccion.style.display = 'block'; // Muestra el cuadro de selección
        } else {
            alergiasSeleccion.style.display = 'none'; // Oculta el cuadro de selección
        }
    }
</script>

</body>
</html>